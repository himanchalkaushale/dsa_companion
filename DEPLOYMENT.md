# DSA-Companion Deployment Guide

This guide provides step-by-step instructions for deploying the DSA-Companion application to Vercel with a Neon PostgreSQL database.

## Prerequisites

- GitHub repository for your project
- Vercel account (create one at https://vercel.com)
- Neon PostgreSQL database (create one at https://neon.tech)

## Step 1: Set Up Your Neon PostgreSQL Database

1. Create an account on [Neon](https://neon.tech) if you don't have one already
2. Create a new project
3. In your project dashboard, locate your database connection string
4. Save this connection string for later use with Vercel

![Neon Database Setup](attached_assets/neon.png)

## Step 2: Prepare for Deployment

You can use the included helper script to prepare your environment variables:

```bash
# Set your database URL
export DATABASE_URL=your_neon_postgres_connection_string

# Run the deployment helper script
node vercel-deploy.js
```

This script will:
1. Check if DATABASE_URL is set
2. Generate a secure SESSION_SECRET (or use the one you provide)
3. Create the necessary .env.production file

## Step 3: Deploy to Vercel

1. Log in to your Vercel account
2. Click "Add New..." and select "Project"
3. Import your project from GitHub
4. Configure your project:
   - Framework Preset: Vite
   - Build Command: `npm run build`
   - Output Directory: `dist/client`
   - Install Command: `npm install`
   - Development Command: `npm run dev`

5. Set the following environment variables:
   - `DATABASE_URL`: Your Neon PostgreSQL connection string
   - `NODE_ENV`: `production`
   - `SESSION_SECRET`: Use the one generated by the helper script

![Vercel Environment Variables](attached_assets/1.png)

6. Click "Deploy"

## Step 4: Verifying Your Deployment

1. After deployment completes, Vercel will provide you with a URL for your application
2. Visit this URL to confirm that your application is running properly
3. Test the following core features:
   - User registration and login
   - Problem listing and filtering
   - Problem progress tracking
   - Admin features (if you have admin credentials)

## Troubleshooting

If you encounter any issues with your deployment, check the following:

1. **Database Connection Issues**:
   - Verify your Neon PostgreSQL connection string is correct
   - Ensure your IP is allowlisted in Neon's configuration
   - Check Vercel logs for any database connection errors

2. **API Route Issues**:
   - Verify the Vercel rewrites in `vercel.json` are properly configured
   - Check that API endpoints are being correctly routed

3. **Authentication Issues**:
   - Make sure your SESSION_SECRET is properly set
   - Check that cookies are being properly set in production

## Updating Your Deployment

When you need to update your application:

1. Push changes to your GitHub repository
2. Vercel will automatically detect the changes and rebuild your application
3. Monitor the deployment logs to ensure everything builds successfully

## Additional Resources

- [Vercel Documentation](https://vercel.com/docs)
- [Neon PostgreSQL Documentation](https://neon.tech/docs)
- [Vite Documentation](https://vitejs.dev/guide/)